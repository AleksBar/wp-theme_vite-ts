# Установка через `composer`
```
composer create-project aleks-bar/wp-theme-vite-ts директория-темы
```

# Настройка
> Для корректной работы нужно выполнить команды в папке темы
<br>

*Для установки зависимостей*

```
npm install
```

*Для инициализации файлов необходимых теме*

```
num run dev или npm run build
```
# Окружение
Для корректной работы нужно установить соответствующий режим `MODE` в файле .env <br>
> остальные переменные в .env менять только осознанно

`production` - переключает подгрузку css и js из билда

```
MODE='production'  # development | production
```

`JS_CHUNKS` - тут через запятую можно добавить разделение на чанки. По умолчанию указан только 1 чанк `main` 

```
JS_CHUNKS='main'
```

Необходимо чтобы имя чанка совпадало со `slug`-(ом) страницы для которой он предназначен.
Для главной страницы чанк должен называться `front-page`.
В чанках необходимо импортировать js и css необходимые для этого чанка.  
Например сделаем 2 чанка для главной страницы и для страницы контактов: 
```
JS_CHUNKS='front-page,contacts'
```

> Так же в php классе `Theme` есть дополнительные настройки для чанков.

Чанк который будет использоваться для страниц не указанных явно в 'JS_CHUNKS' называется `index`.  
Он должен быть добавлен в `src/js/chunks` если чанков больше 1.  
Его имя можно изменить в php до инициализации чанков
```
Theme::setDefaultChunkNameForAnotherPages('new-chunk-name')
```
Ещё есть массив с названиями чанков которые будут грузится со всеми остальными.  
По умолчанию он равен `['layout']` т.е. в этом чанке можно указать общие js и css для всех страниц.  
Можно добавить дополнительные чанки до инициализации
```
Theme::addNecessaryChunks(['necessary-chunk-1', 'necessary-chunk-2'])
```

